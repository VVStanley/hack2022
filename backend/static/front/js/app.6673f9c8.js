(function(t){function e(e){for(var n,l,r=e[0],o=e[1],u=e[2],b=0,p=[];b<r.length;b++)l=r[b],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&p.push(s[l][0]),s[l]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);i&&i(e);while(p.length)p.shift()();return c.push.apply(c,u||[]),a()}function a(){for(var t,e=0;e<c.length;e++){for(var a=c[e],n=!0,r=1;r<a.length;r++){var o=a[r];0!==s[o]&&(n=!1)}n&&(c.splice(e--,1),t=l(l.s=a[0]))}return t}var n={},s={app:0},c=[];function l(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=n,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(a,n,function(e){return t[e]}.bind(null,n));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/static/front/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var i=o;c.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("a757");var n=a("7a23");const s={class:"navbar navbar-expand-lg navbar-light bg-light"},c={class:"container-fluid"},l={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r={key:0,class:"navbar-nav"},o=Object(n["g"])("Мои данные"),u=Object(n["g"])("Мои контракты"),i=Object(n["g"])("Справочник товаров"),b=Object(n["g"])("Мои товары"),p=Object(n["g"])("Мои клиенты"),O=Object(n["g"])("Выход"),j={key:1,class:"navbar-nav"},h=Object(n["g"])("Home"),d=Object(n["g"])("Login");function f(t,e,a,f,g,m){const _=Object(n["z"])("router-link"),v=Object(n["z"])("router-view");return Object(n["u"])(),Object(n["e"])(n["a"],null,[Object(n["f"])("nav",s,[Object(n["f"])("div",c,[Object(n["f"])("div",l,[t.$store.getters.isAuth?(Object(n["u"])(),Object(n["e"])("div",r,[Object(n["h"])(_,{class:"nav-link",to:"/supplier"},{default:Object(n["G"])(()=>[o]),_:1}),Object(n["h"])(_,{class:"nav-link",to:"/contracts"},{default:Object(n["G"])(()=>[u]),_:1}),Object(n["h"])(_,{class:"nav-link",to:"/tru"},{default:Object(n["G"])(()=>[i]),_:1}),Object(n["h"])(_,{class:"nav-link",to:"/mytru"},{default:Object(n["G"])(()=>[b]),_:1}),Object(n["h"])(_,{class:"nav-link",to:"/consumers"},{default:Object(n["G"])(()=>[p]),_:1}),Object(n["h"])(_,{class:"nav-link",to:"/logout"},{default:Object(n["G"])(()=>[O]),_:1})])):(Object(n["u"])(),Object(n["e"])("div",j,[Object(n["h"])(_,{class:"nav-link",to:"/"},{default:Object(n["G"])(()=>[h]),_:1}),Object(n["h"])(_,{class:"nav-link",to:"/login"},{default:Object(n["G"])(()=>[d]),_:1})]))])])]),Object(n["h"])(v)],64)}var g={name:"App"},m=a("6b0d"),_=a.n(m);const v=_()(g,[["render",f]]);var k=v,y=a("6605");function w(t,e,a,s,c,l){return Object(n["u"])(),Object(n["e"])("h1",null,"123")}var x=a("5502"),C=Object(x["a"])({state:{authToken:localStorage.getItem("authToken")||null,username:localStorage.getItem("username")||null},getters:{isAuth:t=>t.authToken,getUsername:t=>t.username},mutations:{setUsername(t,e){localStorage.setItem("username",e),t.username=e},setAuthToken(t,e){localStorage.setItem("authToken",e),t.auth=!0}},actions:{},modules:{}}),B={name:"Home",mounted(){console.log("us - ",C.getters.getUsername)}};const A=_()(B,[["render",w]]);var S=A;const I=Object(n["f"])("h1",null,"Login",-1),T=Object(n["f"])("hr",null,null,-1),U={class:"col-auto"},D=Object(n["f"])("label",{for:"inputPassword2",class:"visually-hidden"},"Password",-1),z=Object(n["f"])("div",{class:"col-auto"},[Object(n["f"])("button",{type:"submit",class:"btn btn-primary mb-3"},"Войти")],-1);function $(t,e,a,s,c,l){return Object(n["u"])(),Object(n["e"])(n["a"],null,[I,T,Object(n["f"])("form",{class:"row g-3",onSubmit:e[2]||(e[2]=Object(n["I"])((...t)=>l.submitForm&&l.submitForm(...t),["prevent"]))},[Object(n["f"])("div",U,[D,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>c.user.username=t),class:"form-control",placeholder:"Логин ИННКПП"},null,512),[[n["E"],c.user.username]]),Object(n["H"])(Object(n["f"])("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>c.user.password=t),class:"form-control",placeholder:"Пароль"},null,512),[[n["E"],c.user.password]])]),z],32)],64)}var F=a("bc3a"),E=a.n(F);const G=E.a.create({baseURL:"https://wstanley.ru"});var P=G,L={name:"login",data(){return{user:{username:"273089390027301001",password:11111}}},mounted(){console.log(567567)},methods:{async submitForm(){console.log(this.user),await P.post("/auth/token/login",`grant_type=&username=${this.user.username}&password=${this.user.password}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(({data:t})=>{console.log(t),C.commit("setAuthToken",t.auth_token),C.commit("setUsername",this.user.username),window.location.reload()}).catch(t=>console.log(t.response.data))}}};const M=_()(L,[["render",$]]);var H=M;const J=Object(n["f"])("h1",null,"Стандартная товарная еденица",-1),N={class:"table table-striped table-hover"},R=Object(n["f"])("thead",null,[Object(n["f"])("tr",null,[Object(n["f"])("th",null,"ИД"),Object(n["f"])("th",null,"Наименование"),Object(n["f"])("th",null,"Категория"),Object(n["f"])("th",null,"КПГЗ"),Object(n["f"])("th",null,"Характеристики")])],-1),V={class:"pagination"},q={class:"page-item"},K=["href"],Q=["href"],W={class:"page-item"};function X(t,e,a,s,c,l){return Object(n["u"])(),Object(n["e"])(n["a"],null,[J,Object(n["f"])("table",N,[R,Object(n["f"])("tbody",null,[(Object(n["u"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(c.data.results,(t,e)=>(Object(n["u"])(),Object(n["e"])("tr",{key:e},[Object(n["f"])("td",null,Object(n["B"])(t.id_cte),1),Object(n["f"])("td",null,Object(n["B"])(t.cte_name),1),Object(n["f"])("td",null,Object(n["B"])(t.category),1),Object(n["f"])("td",null,Object(n["B"])(t.kpgz_code),1),Object(n["f"])("td",null,[Object(n["f"])("ul",null,[(Object(n["u"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(t.properties,(t,e)=>(Object(n["u"])(),Object(n["e"])("li",{key:e},Object(n["B"])(t.prop_name)+": "+Object(n["B"])(t.prop_value)+" "+Object(n["B"])(t.prop_unit?"ЕД.ИЗМ:"+t.prop_unit:""),1))),128))])])]))),128))])]),Object(n["f"])("nav",null,[Object(n["f"])("ul",V,[Object(n["f"])("li",q,[Object(n["f"])("a",{class:"page-link",onClick:e[0]||(e[0]=Object(n["I"])((...t)=>l.get_first&&l.get_first(...t),["prevent"])),href:""},"Первая")]),Object(n["f"])("li",{class:Object(n["o"])(["page-item",[c.previous?"":"disabled"]])},[Object(n["f"])("a",{class:"page-link",onClick:e[1]||(e[1]=Object(n["I"])((...t)=>l.get_previous&&l.get_previous(...t),["prevent"])),href:[c.previous?c.previous:"#"]},"Назад",8,K)],2),Object(n["f"])("li",{class:Object(n["o"])(["page-item",[c.next?"":"disabled"]])},[Object(n["f"])("a",{class:"page-link",onClick:e[2]||(e[2]=Object(n["I"])((...t)=>l.get_next&&l.get_next(...t),["prevent"])),href:[c.next?c.next:"#"]},"Вперед",8,Q)],2),Object(n["f"])("li",W,[Object(n["f"])("a",{class:"page-link",onClick:e[3]||(e[3]=Object(n["I"])((...t)=>l.get_last&&l.get_last(...t),["prevent"])),href:"#"},"Последняя")])])])],64)}var Y={name:"Tru",data(){return{data:[],limit:null,next:null,previous:null,count:0,link:"/api/v1/tru/"}},mounted(){this.get_data()},methods:{async get_last(){this.link="/api/v1/tru/?offset="+(this.count-this.limit),await this.get_data()},async get_first(){this.link="/api/v1/tru/",await this.get_data()},async get_previous(){this.link=this.previous,await this.get_data()},async get_next(){this.link=this.next,await this.get_data()},async get_data(){await P.get(this.link,{headers:{Authorization:"Token "+localStorage.getItem("authToken")}}).then(({data:t})=>{this.next=t.next,this.previous=t.previous,this.count=t.count,this.data=t}).catch(t=>console.log(t.response.data))}}};const Z=_()(Y,[["render",X]]);var tt=Z;function et(t,e,a,s,c,l){return Object(n["u"])(),Object(n["e"])("h1",null,"Пока")}var at={name:"Logout",mounted(){localStorage.removeItem("authToken"),window.location.reload()}};const nt=_()(at,[["render",et]]);var st=nt;const ct=Object(n["f"])("h1",null,"Мои данные",-1),lt={key:0},rt={key:1},ot={key:2},ut={key:3};function it(t,e,a,s,c,l){return Object(n["u"])(),Object(n["e"])(n["a"],null,[ct,Object(n["f"])("ul",null,[c.supplier.sup_inn?(Object(n["u"])(),Object(n["e"])("li",lt,"ИНН: "+Object(n["B"])(c.supplier.sup_inn),1)):Object(n["d"])("",!0),c.supplier.sup_kpp?(Object(n["u"])(),Object(n["e"])("li",rt,"КПП: "+Object(n["B"])(c.supplier.sup_kpp),1)):Object(n["d"])("",!0),c.supplier.sup_name?(Object(n["u"])(),Object(n["e"])("li",ot,"Наименование: "+Object(n["B"])(c.supplier.sup_name),1)):Object(n["d"])("",!0),c.supplier.sup_type?(Object(n["u"])(),Object(n["e"])("li",ut,"Тип: "+Object(n["B"])(c.supplier.sup_type),1)):Object(n["d"])("",!0)])],64)}var bt={name:"Suplier",data(){return{supplier:{sup_inn:null,sup_kpp:null,sup_name:null,sup_type:null}}},mounted(){this.get_data()},methods:{async get_data(){await P.get("/api/v1/supplier/"+C.getters.getUsername,{headers:{Authorization:"Token "+localStorage.getItem("authToken")}}).then(({data:t})=>this.supplier=t).catch(t=>console.log(t.response.data))}}};const pt=_()(bt,[["render",it]]);var Ot=pt;const jt=Object(n["f"])("h1",null,"Мои контракты",-1),ht={class:"table table-striped table-hover"},dt=Object(n["f"])("thead",null,[Object(n["f"])("tr",null,[Object(n["f"])("th",null,"ИД контракта"),Object(n["f"])("th",null,"Контракт"),Object(n["f"])("th",null,"Клиент"),Object(n["f"])("th",null,"Дата публикации"),Object(n["f"])("th",null,"Дата контракта"),Object(n["f"])("th",null,"Цена"),Object(n["f"])("th",null,"Элементы контракта")])],-1),ft=Object(n["f"])("br",null,null,-1),gt={width:"30%"},mt={key:0},_t={key:1,class:"text-danger"},vt={class:"pagination"},kt={class:"page-item"},yt=["href"],wt=["href"],xt={class:"page-item"};function Ct(t,e,a,s,c,l){return Object(n["u"])(),Object(n["e"])(n["a"],null,[jt,Object(n["f"])("table",ht,[dt,Object(n["f"])("tbody",null,[(Object(n["u"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(c.data.results,(t,e)=>(Object(n["u"])(),Object(n["e"])("tr",{key:e},[Object(n["f"])("td",null,Object(n["B"])(t.id_contract),1),Object(n["f"])("td",null,Object(n["B"])(t.contract),1),Object(n["f"])("td",null,[Object(n["g"])(Object(n["B"])(t.consumer.cons_inn)+"/"+Object(n["B"])(t.consumer.cons_kpp)+" ",1),ft,Object(n["g"])(" "+Object(n["B"])(t.consumer.cons_name),1)]),Object(n["f"])("td",null,Object(n["B"])(t.pub_date),1),Object(n["f"])("td",null,Object(n["B"])(t.contract_date),1),Object(n["f"])("td",null,Object(n["B"])(t.contract_price),1),Object(n["f"])("td",gt,[Object(n["f"])("ul",null,[(Object(n["u"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(t.elements,(t,e)=>(Object(n["u"])(),Object(n["e"])("li",{key:e},[t.id_element?(Object(n["u"])(),Object(n["e"])("span",mt,"ИД: "+Object(n["B"])(t.id_element),1)):(Object(n["u"])(),Object(n["e"])("span",_t,"Неизвестно")),Object(n["g"])(" Кол-во: "+Object(n["B"])(t.quantity)+" Сумма: "+Object(n["B"])(t.amount),1)]))),128))])])]))),128))])]),Object(n["f"])("nav",null,[Object(n["f"])("ul",vt,[Object(n["f"])("li",kt,[Object(n["f"])("a",{class:"page-link",onClick:e[0]||(e[0]=Object(n["I"])((...t)=>l.get_first&&l.get_first(...t),["prevent"])),href:""},"Первая")]),Object(n["f"])("li",{class:Object(n["o"])(["page-item",[c.previous?"":"disabled"]])},[Object(n["f"])("a",{class:"page-link",onClick:e[1]||(e[1]=Object(n["I"])((...t)=>l.get_previous&&l.get_previous(...t),["prevent"])),href:[c.previous?c.previous:"#"]},"Назад",8,yt)],2),Object(n["f"])("li",{class:Object(n["o"])(["page-item",[c.next?"":"disabled"]])},[Object(n["f"])("a",{class:"page-link",onClick:e[2]||(e[2]=Object(n["I"])((...t)=>l.get_next&&l.get_next(...t),["prevent"])),href:[c.next?c.next:"#"]},"Вперед",8,wt)],2),Object(n["f"])("li",xt,[Object(n["f"])("a",{class:"page-link",onClick:e[3]||(e[3]=Object(n["I"])((...t)=>l.get_last&&l.get_last(...t),["prevent"])),href:"#"},"Последняя")])])])],64)}var Bt={name:"Contracts",data(){return{data:[],limit:null,next:null,previous:null,count:0,link:"/api/v1/contracts/?sup_username="+C.getters.getUsername}},mounted(){this.get_data()},methods:{async get_last(){this.link=`/api/v1/contracts/?sup_username=${C.getters.getUsername}&offset=${this.count-this.limit}`,await this.get_data()},async get_first(){this.link="/api/v1/contracts/?sup_username="+C.getters.getUsername,await this.get_data()},async get_previous(){this.link=this.previous,await this.get_data()},async get_next(){this.link=this.next,await this.get_data()},async get_data(){await P.get(this.link,{headers:{Authorization:"Token "+localStorage.getItem("authToken")}}).then(({data:t})=>{this.next=t.next,this.previous=t.previous,this.count=t.count,this.data=t}).catch(t=>console.log(t.response.data))}}};const At=_()(Bt,[["render",Ct]]);var St=At;const It=Object(n["f"])("h1",null,"Клиенты",-1),Tt={key:0},Ut={class:"table table-striped table-hover"},Dt=Object(n["f"])("thead",null,[Object(n["f"])("tr",null,[Object(n["f"])("th",null,"ИНН"),Object(n["f"])("th",null,"КПП"),Object(n["f"])("th",null,"Имя"),Object(n["f"])("th",null,"Сумма контрактов")])],-1),zt={class:"pagination"},$t={class:"page-item"},Ft=["href"],Et=["href"],Gt={class:"page-item"};function Pt(t,e,a,s,c,l){const r=Object(n["z"])("Doughnut");return Object(n["u"])(),Object(n["e"])(n["a"],null,[It,Object(n["f"])("button",{onClick:e[0]||(e[0]=(...t)=>l.show_top&&l.show_top(...t))},"Показать ТОП 7 клиентов"),c.showTop?(Object(n["u"])(),Object(n["e"])("div",Tt,[Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>c.countCharts=t)},null,512),[[n["E"],c.countCharts]]),Object(n["f"])("button",{onClick:e[2]||(e[2]=(...t)=>l.update_chart&&l.update_chart(...t))},"Обновить"),Object(n["h"])(r,{"chart-options":c.chartOptions,"chart-data":c.chartData},null,8,["chart-options","chart-data"])])):Object(n["d"])("",!0),Object(n["f"])("table",Ut,[Dt,Object(n["f"])("tbody",null,[(Object(n["u"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(c.data.results,(t,e)=>(Object(n["u"])(),Object(n["e"])("tr",{key:e},[Object(n["f"])("td",null,Object(n["B"])(t.cons_inn),1),Object(n["f"])("td",null,Object(n["B"])(t.cons_kpp),1),Object(n["f"])("td",null,Object(n["B"])(t.cons_name),1),Object(n["f"])("td",null,Object(n["B"])(t.contract_sum),1)]))),128))])]),Object(n["f"])("nav",null,[Object(n["f"])("ul",zt,[Object(n["f"])("li",$t,[Object(n["f"])("a",{class:"page-link",onClick:e[3]||(e[3]=Object(n["I"])((...t)=>l.get_first&&l.get_first(...t),["prevent"])),href:""},"Первая")]),Object(n["f"])("li",{class:Object(n["o"])(["page-item",[c.previous?"":"disabled"]])},[Object(n["f"])("a",{class:"page-link",onClick:e[4]||(e[4]=Object(n["I"])((...t)=>l.get_previous&&l.get_previous(...t),["prevent"])),href:[c.previous?c.previous:"#"]},"Назад",8,Ft)],2),Object(n["f"])("li",{class:Object(n["o"])(["page-item",[c.next?"":"disabled"]])},[Object(n["f"])("a",{class:"page-link",onClick:e[5]||(e[5]=Object(n["I"])((...t)=>l.get_next&&l.get_next(...t),["prevent"])),href:[c.next?c.next:"#"]},"Вперед",8,Et)],2),Object(n["f"])("li",Gt,[Object(n["f"])("a",{class:"page-link",onClick:e[6]||(e[6]=Object(n["I"])((...t)=>l.get_last&&l.get_last(...t),["prevent"])),href:"#"},"Последняя")])])])],64)}var Lt=a("368d"),Mt=a("dd61");Mt["e"].register(Mt["m"],Mt["n"],Mt["g"],Mt["a"],Mt["d"]);var Ht={name:"Consumers",components:{Doughnut:Lt["a"]},props:{chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:600},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},plugins:{type:Object,default:()=>{}}},data(){return{chartColors:["#7CB9E8","#C46210","#3B7A57","#9966CC","#CD9575","#3DDC84","#A1CAF1","#BFAFB2","#7CB9E8","#2E5894","#660000","#8A2BE2","#79443B","#D891EF","#FFAA1D","#A17A74","#91A3B0","#C19A6B","#00CC99","#D70040","#56A0D3","#ACE1AF","#DE3163"],data:[],limit:null,next:null,previous:null,count:0,link:"/api/v1/consumers/?sup_username="+C.getters.getUsername,showTop:!1,countCharts:7,chartData:{labels:["January","February","March"],datasets:[{data:[40,20,12]}]},chartOptions:{responsive:!0}}},mounted(){this.get_data(),this.get_data_to_chart(this.countCharts)},methods:{async get_data_to_chart(t){await P.get(`/api/v1/consumers/for-charts/?sup_username=${C.getters.getUsername}&count=${t}`,{headers:{Authorization:"Token "+localStorage.getItem("authToken")}}).then(({data:t})=>{console.log(t);let e=t.map(t=>t.cons_name),a=t.map(t=>t.contract_sum);console.log(e),console.log(a),this.chartData={labels:e,datasets:[{backgroundColor:this.chartColors,data:a}]},console.log(this.chartData)}).catch(t=>console.log(t.response.data))},update_chart(){this.get_data_to_chart(this.countCharts)},show_top(){this.showTop=!this.showTop},async get_last(){this.link=`/api/v1/consumers/?sup_username=${C.getters.getUsername}&offset=${this.count-this.limit}`,await this.get_data()},async get_first(){this.link="/api/v1/consumers/?sup_username="+C.getters.getUsername,await this.get_data()},async get_previous(){this.link=this.previous,await this.get_data()},async get_next(){this.link=this.next,await this.get_data()},async get_data(){await P.get(this.link,{headers:{Authorization:"Token "+localStorage.getItem("authToken")}}).then(({data:t})=>{console.log(t),this.next=t.next,this.previous=t.previous,this.count=t.count,this.data=t}).catch(t=>console.log(t.response.data))}}};const Jt=_()(Ht,[["render",Pt]]);var Nt=Jt;const Rt=Object(n["f"])("h1",null,"Мои товары",-1),Vt={class:"table table-striped table-hover"},qt=Object(n["f"])("thead",null,[Object(n["f"])("tr",null,[Object(n["f"])("th",null,"ИД"),Object(n["f"])("th",null,"Наименование"),Object(n["f"])("th",null,"Категория"),Object(n["f"])("th",null,"Я продал"),Object(n["f"])("th",null,"Все продали"),Object(n["f"])("th",null,"Перспектива роста"),Object(n["f"])("th",null,"Всего покупают"),Object(n["f"])("th",null,"Динамика продаж"),Object(n["f"])("th",null,"Тренд")])],-1),Kt={width:"100px"},Qt={class:"pagination"},Wt={class:"page-item"},Xt=["href"],Yt=["href"],Zt={class:"page-item"};function te(t,e,a,s,c,l){const r=Object(n["z"])("sparkline-curve"),o=Object(n["z"])("sparklines");return Object(n["u"])(),Object(n["e"])(n["a"],null,[Rt,Object(n["f"])("table",Vt,[qt,Object(n["f"])("tbody",null,[(Object(n["u"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(c.data.results,(e,a)=>(Object(n["u"])(),Object(n["e"])("tr",{key:a},[Object(n["f"])("td",null,Object(n["B"])(e.id_cte),1),Object(n["f"])("td",null,Object(n["B"])(e.cte_name),1),Object(n["f"])("td",null,Object(n["B"])(e.category),1),Object(n["f"])("td",null,Object(n["B"])(e.my_sum_amount),1),Object(n["f"])("td",null,Object(n["B"])(e.sum_all),1),Object(n["f"])("td",null,Object(n["B"])(l.rounding(e.growth_perspective,0))+"%",1),Object(n["f"])("td",null,Object(n["B"])(e.cons_cnt),1),Object(n["f"])("td",Kt,[Object(n["f"])("ul",null,[(Object(n["u"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(e.dynamics,(t,e)=>(Object(n["u"])(),Object(n["e"])("li",{key:e},Object(n["B"])(t.contract_year)+": "+Object(n["B"])(l.rounding(t.amount)),1))),128))])]),Object(n["f"])("td",null,[Object(n["h"])(o,{indicatorStyles:t.indicatorStyles},{default:Object(n["G"])(()=>[Object(n["h"])(r,{width:200,height:60,limit:0,refLineStyles:c.spRefLineStyles,styles:c.spCurveStyles,data:l.get_data_sparkline(e.dynamics)},null,8,["refLineStyles","styles","data"])]),_:2},1032,["indicatorStyles"])])]))),128))])]),Object(n["f"])("nav",null,[Object(n["f"])("ul",Qt,[Object(n["f"])("li",Wt,[Object(n["f"])("a",{class:"page-link",onClick:e[0]||(e[0]=Object(n["I"])((...t)=>l.get_first&&l.get_first(...t),["prevent"])),href:""},"Первая")]),Object(n["f"])("li",{class:Object(n["o"])(["page-item",[c.previous?"":"disabled"]])},[Object(n["f"])("a",{class:"page-link",onClick:e[1]||(e[1]=Object(n["I"])((...t)=>l.get_previous&&l.get_previous(...t),["prevent"])),href:[c.previous?c.previous:"#"]},"Назад",8,Xt)],2),Object(n["f"])("li",{class:Object(n["o"])(["page-item",[c.next?"":"disabled"]])},[Object(n["f"])("a",{class:"page-link",onClick:e[2]||(e[2]=Object(n["I"])((...t)=>l.get_next&&l.get_next(...t),["prevent"])),href:[c.next?c.next:"#"]},"Вперед",8,Yt)],2),Object(n["f"])("li",Zt,[Object(n["f"])("a",{class:"page-link",onClick:e[3]||(e[3]=Object(n["I"])((...t)=>l.get_last&&l.get_last(...t),["prevent"])),href:"#"},"Последняя")])])])],64)}var ee=a("ec30"),ae={name:"MyTru",components:{SparklineCurve:ee["a"],Sparklines:ee["b"]},data(){return{spRefLineStyles:{stroke:"#d14",strokeOpacity:5,strokeDasharray:"7, 7"},spCurveStyles:{stroke:"#dd2c00",fill:"#54a5ff",fontSize:"22"},data:[],limit:null,next:null,previous:null,count:0,link:`/api/v1/tru/${C.getters.getUsername}/for-supplier/`}},mounted(){this.get_data()},methods:{get_data_sparkline(t){return t.map(t=>t.amount)},rounding(t,e=2){return parseInt(t).toFixed(e)},async get_last(){this.link=`/api/v1/tru/${C.getters.getUsername}/for-supplier/offset=${this.count-this.limit}`,await this.get_data()},async get_first(){this.link=`/api/v1/tru/${C.getters.getUsername}/for-supplier/`,await this.get_data()},async get_previous(){this.link=this.previous,await this.get_data()},async get_next(){this.link=this.next,await this.get_data()},async get_data(){await P.get(this.link,{headers:{Authorization:"Token "+localStorage.getItem("authToken")}}).then(({data:t})=>{console.log(t),this.next=t.next,this.previous=t.previous,this.count=t.count,this.data=t}).catch(t=>console.log(t.response.data))}}};const ne=_()(ae,[["render",te]]);var se=ne;const ce=[{path:"/",name:"home",meta:{needAuth:!1},component:S},{path:"/login",name:"login",meta:{needAuth:!1},component:H},{path:"/logout",name:"logout",meta:{needAuth:!0},component:st},{path:"/tru",name:"tru",meta:{needAuth:!0},component:tt},{path:"/mytru",name:"mytru",meta:{needAuth:!0},component:se},{path:"/supplier",name:"supplier",meta:{needAuth:!0},component:Ot},{path:"/contracts",name:"contracts",meta:{needAuth:!0},component:St},{path:"/consumers",name:"consumers",meta:{needAuth:!0},component:Nt}],le=Object(y["a"])({history:Object(y["b"])("/static/front/"),routes:ce});le.beforeEach(async(t,e,a)=>{let n=t.matched.some(t=>t.meta.needAuth),s=C.getters.isAuth;console.log("needAuth",n),console.log("isAuth",s),n&&!s?a({name:"login"}):(!n&&s&&a({name:"supplier"}),a())});var re=le;Object(n["c"])(k).use(C).use(re).mount("#app")}});
//# sourceMappingURL=app.6673f9c8.js.map